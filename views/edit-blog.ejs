<div>
  <div>
    <h1 class="fs-2 fw-bold mb-2">Edit Blog</h1>
    <p class="text-muted fs-6 my-4">Update your blog content</p>
    <form method="POST" action="/api/user/edit-blog/<%= blog.id %>" enctype="multipart/form-data">
      <div class="mb-3">
        <label class="form-label fw-semibold">Edit blog</label>
        <input 
          type="text" 
          name="title" 
          value="<%= blog.title %>" 
          required 
          class="form-control rounded-4 py-3 bg-light border-secondary-subtle" 
        />
      </div>
      <div class="mb-3">
        <label class="form-label fw-semibold">Description</label>
        <textarea 
          name="description" 
          rows="10" 
          required 
          class="form-control bg-light rounded-4 border-secondary-subtle resize-none"><%= blog.description %></textarea>
      </div>
      <div class="mb-3">
        <label class="form-label fw-semibold">Category</label>
        <select name="category" required class="form-select bg-light border-secondary-subtle py-3 rounded-4">
          <% sectors.forEach(s => { %>
            <option value="<%= s.name %>" <%= blog.sector === s.name ? 'selected' : '' %>><%= s.name %></option>
          <% }) %>
        </select>
      </div>
      <div class="mb-3">
        <label class="form-label fw-semibold">Change Image (Optional)</label>
        <input type="file" name="imageFile" accept="image/*" class="form-control bg-light border-secondary-subtle mb-2 py-3 rounded-4" />
        <small class="text-muted d-block mb-1 text-center">or</small>
        <input 
          type="url" 
          name="imageUrl" 
          placeholder="https://example.com/image.jpg" 
          class="form-control bg-light border-secondary-subtle py-3 rounded-4" 
        />

        <% if (blog.imageUrl || blog.imageFile) { %>
          <div class="my-2">
            <p class="text-muted">Current Image:</p>
            <img src="<%= blog.imageUrl %>" width="200" alt="Blog Image" class="rounded-4 shadow-sm" />
          </div>
        <% } %>
      </div>
      <div class="form-check form-switch mb-3">
        <input 
          class="form-check-input" 
          type="checkbox" 
          name="isPublic" 
          id="isPublic" 
          <%= !blog.isPrivate ? 'checked' : '' %> 
        />
        <label class="form-check-label" for="isPublic">Public</label>
      </div>
      <div class="w-100">
        <button type="submit" class="w-100 btn btn-dark fs-5 rounded-pill fw-bold submit-btn-padding">Update Blog</button>
      </div>
    </form>
  </div>
</div>
